<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Beverages - Coffee Varieties</title>
  <!-- Google Fonts for a modern look -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Global Styles */
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      padding: 20px;
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(135deg, #f5f7fa, #4a2c23);
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    /* Fade-in animation for item wrappers */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Grid layout for items */
    .items-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    /* Each beverage item card */
    .item-wrapper {
      position: relative;
      text-align: center;
      background: #fff;
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      animation: fadeIn 0.6s ease both;
    }

    .item-wrapper:hover {
      transform: translateY(-8px);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }

    /* Circular image container */
    .item-circle {
      display: block;
      width: 150px;
      height: 150px;
      margin: 0 auto;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease;
    }

    .item-circle:hover {
      transform: scale(1.05);
    }

    /* Beverage image */
    .item-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .item-image:hover {
      transform: scale(1.1);
    }

    /* Beverage label */
    .item-label {
      margin-top: 15px;
      font-size: 20px;
      font-weight: bold;
      letter-spacing: 0.5px;
    }

    /* Price styling */
    .item-price {
      font-size: 16px;
      margin: 5px 0;
      color: #555;
    }

    /* Cart container styles */
    .item-cart-container {
      margin-top: 0.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    .item-quantity {
      width: 50px;
      text-align: center;
      padding: 0.2rem;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    .add-to-cart-btn {
      background: #2c1810;
      color: white;
      border: none;
      padding: 0.4rem 0.8rem;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .add-to-cart-btn:hover {
      background: #4a2c23;
    }

    /* Heart Icon Styles */
    .heart-icon {
      position: absolute;
      top: 15px;
      right: 15px;
      font-size: 26px;
      color: white;
      background-color: #4a2c23;
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.3s ease, background-color 0.3s ease;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
      z-index: 10;
    }

    .heart-icon.favorited {
      color: red;
      background-color: #fff;
    }

    .heart-icon:hover {
      transform: scale(1.3);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    /* Scrollbar styling */
    ::-webkit-scrollbar {
      width: 12px;
      background-color: #f8efe6;
    }

    ::-webkit-scrollbar-thumb {
      background: #2c1810;
      border-radius: 10px;
      border: 2px solid #f8efe6;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #4a2c23;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="items-grid">
      <!-- Item 1: Latte (labeled as Orange Juice for data purposes) -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="oj1" data-name="Latte" data-price="4.99">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee1.jpeg" alt="Latte" class="item-image">
        </div>
        <div class="item-label">Latte</div>
        <div class="item-price">$4.99</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 2: Iced Tea -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="it1" data-name="Iced Tea" data-price="3.99">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee2.jpg" alt="Iced Tea" class="item-image">
        </div>
        <div class="item-label">Iced Tea</div>
        <div class="item-price">$3.99</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 3: Tea (labeled as Lemonade for data purposes) -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="lm1" data-name="Tea" data-price="3.99">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee3.jpeg" alt="Tea" class="item-image">
        </div>
        <div class="item-label">Tea</div>
        <div class="item-price">$3.99</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 4: Chocolate Smoothie -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="sm1" data-name="Chocolate Smoothie" data-price="5.99">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee4.jpg" alt="Chocolate Smoothie" class="item-image">
        </div>
        <div class="item-label">Chocolate Smoothie</div>
        <div class="item-price">$5.99</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 5: Espresso -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="es1" data-name="Espresso" data-price="2.99">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee5.jpg" alt="Espresso" class="item-image">
        </div>
        <div class="item-label">Espresso</div>
        <div class="item-price">$2.99</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 6: Cappuccino -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="cp1" data-name="Cappuccino" data-price="3.50">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee6.jpg" alt="Cappuccino" class="item-image">
        </div>
        <div class="item-label">Cappuccino</div>
        <div class="item-price">$3.50</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 7: Latte -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="lt1" data-name="Latte" data-price="3.75">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee7.jpg" alt="Latte" class="item-image">
        </div>
        <div class="item-label">Latte</div>
        <div class="item-price">$3.75</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 8: Americano -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="am1" data-name="Americano" data-price="2.50">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee8.jpeg" alt="Americano" class="item-image">
        </div>
        <div class="item-label">Americano</div>
        <div class="item-price">$2.50</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 9: Mocha -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="mc1" data-name="Mocha" data-price="4.25">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee9.jpg" alt="Mocha" class="item-image">
        </div>
        <div class="item-label">Mocha</div>
        <div class="item-price">$4.25</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 10: Macchiato -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="ma1" data-name="Macchiato" data-price="3.25">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee10.jpg" alt="Macchiato" class="item-image">
        </div>
        <div class="item-label">Macchiato</div>
        <div class="item-price">$3.25</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 11: Irish Coffee -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="ic1" data-name="Irish Coffee" data-price="5.50">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee11.jpg" alt="Irish Coffee" class="item-image">
        </div>
        <div class="item-label">Irish Coffee</div>
        <div class="item-price">$5.50</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 12: Affogato -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="af1" data-name="Affogato" data-price="4.75">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee12.jpg" alt="Affogato" class="item-image">
        </div>
        <div class="item-label">Affogato</div>
        <div class="item-price">$4.75</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 13: Cold Brew -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="cb1" data-name="Cold Brew" data-price="3.95">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee13.jpg" alt="Cold Brew" class="item-image">
        </div>
        <div class="item-label">Cold Brew</div>
        <div class="item-price">$3.95</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 14: Flat White -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="fw1" data-name="Flat White" data-price="3.85">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee14.jpg" alt="Flat White" class="item-image">
        </div>
        <div class="item-label">Flat White</div>
        <div class="item-price">$3.85</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>

      <!-- Item 15: Ristretto -->
      <div class="item-wrapper">
        <div class="heart-icon" data-id="rs1" data-name="Ristretto" data-price="3.10">&#x2665;</div>
        <div class="item-circle">
          <img src="images/coffee15.webp" alt="Ristretto" class="item-image">
        </div>
        <div class="item-label">Ristretto</div>
        <div class="item-price">$3.10</div>
        <div class="item-cart-container">
          <input type="number" class="item-quantity" value="0" min="0">
          <button class="add-to-cart-btn">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Function to update heart icons based on stored favorites
    function updateFavoriteHearts() {
      const favourites = JSON.parse(localStorage.getItem('centralPerkFavorites')) || [];
      document.querySelectorAll('.heart-icon').forEach(icon => {
        const id = icon.getAttribute('data-id');
        if (favourites.some(fav => fav.id === id)) {
          icon.classList.add('favorited');
        } else {
          icon.classList.remove('favorited');
        }
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      // Update icons on load.
      updateFavoriteHearts();

      // Listen for storage events (if favorites are updated in another tab)
      window.addEventListener('storage', updateFavoriteHearts);

      // Handle heart icon clicks for favorites.
      document.querySelectorAll('.heart-icon').forEach(icon => {
        icon.addEventListener('click', function (e) {
          e.stopPropagation();
          const id = this.getAttribute('data-id');
          const name = this.getAttribute('data-name');
          const price = parseFloat(this.getAttribute('data-price'));
          toggleFavourite(this, { id, name, price });
        });
      });

      // Handle Add to Cart button clicks.
      document.querySelectorAll('.add-to-cart-btn').forEach(button => {
        button.addEventListener('click', () => {
          const wrapper = button.closest('.item-wrapper');
          const itemName = wrapper.querySelector('.item-label').textContent;
          const quantityInput = wrapper.querySelector('.item-quantity');
          const quantity = parseInt(quantityInput.value);
          if (quantity > 0) {
            const product = products[itemName];
            addToCart({
              id: product.id,
              name: itemName,
              price: product.price,
              quantity: quantity
            });
            // Provide visual feedback.
            const originalText = button.textContent;
            button.textContent = 'Added!';
            button.style.backgroundColor = '#4a2c23';
            setTimeout(() => {
              button.textContent = originalText;
              button.style.backgroundColor = '#2c1810';
            }, 1000);
            // Reset quantity input.
            quantityInput.value = 0;
          }
        });
      });
    });

    // Define product details for each item.
    const products = {
      'Latte': { id: 'oj1', price: 4.99, image: 'images/coffee1.jpeg' },
      'Iced Tea': { id: 'it1', price: 3.99, image: 'images/coffee2.jpg' },
      'Tea': { id: 'lm1', price: 3.99, image: 'images/coffee3.jpeg' },
      'Chocolate Smoothie': { id: 'sm1', price: 5.99, image: 'images/coffee4.jpg' },
      'Espresso': { id: 'es1', price: 2.99, image: 'images/coffee5.jpg' },
      'Cappuccino': { id: 'cp1', price: 3.50, image: 'images/coffee6.jpg' },
      'Latte': { id: 'lt1', price: 3.75, image: 'images/coffee7.jpg' },
      'Americano': { id: 'am1', price: 2.50, image: 'images/coffee8.jpeg' },
      'Mocha': { id: 'mc1', price: 4.25, image: 'images/coffee9.jpg' },
      'Macchiato': { id: 'ma1', price: 3.25, image: 'images/coffee10.jpg' },
      'Irish Coffee': { id: 'ic1', price: 5.50, image: 'images/coffee11.jpg' },
      'Affogato': { id: 'af1', price: 4.75, image: 'images/coffee12.jpg' },
      'Cold Brew': { id: 'cb1', price: 3.95, image: 'images/coffee13.jpg' },
      'Flat White': { id: 'fw1', price: 3.85, image: 'images/coffee14.jpg' },
      'Ristretto': { id: 'rs1', price: 3.10, image: 'images/coffee15.webp' }
    };

    // Function to add an item to the cart and update cart count.
    function addToCart(item) {
      let cart = JSON.parse(localStorage.getItem('centralPerkCart')) || [];
      const existingItem = cart.find(i => i.id === item.id);
      if (existingItem) {
        existingItem.quantity += item.quantity;
      } else {
        cart.push(item);
      }
      localStorage.setItem('centralPerkCart', JSON.stringify(cart));
      let currentCount = parseInt(localStorage.getItem('cartCount') || '0');
      currentCount += item.quantity;
      localStorage.setItem('cartCount', currentCount);
    }

    // Function to toggle favourite status for an item.
    function toggleFavourite(icon, item) {
      let favourites = JSON.parse(localStorage.getItem('centralPerkFavorites')) || [];
      const existingIndex = favourites.findIndex(fav => fav.id === item.id);
      if (existingIndex === -1) {
        favourites.push(item);
        localStorage.setItem('centralPerkFavorites', JSON.stringify(favourites));
        icon.classList.add('favorited');
        console.log(item.name + " added to favorites.");
      } else {
        favourites.splice(existingIndex, 1);
        localStorage.setItem('centralPerkFavorites', JSON.stringify(favourites));
        icon.classList.remove('favorited');
        console.log(item.name + " removed from favorites.");
      }
    }
  </script>
</body>

</html>