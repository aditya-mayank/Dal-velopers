<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friends Menu</title>
    <!-- Google Fonts for a modern look -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Global Styles */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 20px;
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #f5f7fa, #4a2c23);
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Fade-in animation for item wrappers */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Grid layout for items */
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        /* Each item card styling */
        .item-wrapper {
            position: relative;
            text-align: center;
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeIn 0.6s ease both;
        }

        .item-wrapper:hover {
            transform: translateY(-8px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        /* Circular image container */
        .item-circle {
            display: block;
            width: 150px;
            height: 150px;
            margin: 0 auto;
            border-radius: 50%;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .item-circle:hover {
            transform: scale(1.05);
        }

        /* Image styling */
        .item-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .item-image:hover {
            transform: scale(1.1);
        }

        /* Item label */
        .item-label {
            margin-top: 15px;
            font-size: 20px;
            font-weight: bold;
            letter-spacing: 0.5px;
        }

        /* Price styling */
        .item-price {
            font-size: 16px;
            margin: 5px 0;
            color: #555;
        }

        /* Cart container styles */
        .item-cart-container {
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .item-quantity {
            width: 50px;
            text-align: center;
            padding: 0.2rem;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .add-to-cart-btn {
            background: #2c1810;
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .add-to-cart-btn:hover {
            background: #4a2c23;
        }

        /* Heart icon styles */
        .heart-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 26px;
            color: white;
            background-color: #4a2c23;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .heart-icon.favorited {
            color: red;
            background-color: #fff;
        }

        .heart-icon:hover {
            transform: scale(1.3);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        /* Scrollbar styling: light track with brown tint, dark thumb */
        ::-webkit-scrollbar {
            width: 12px;
            background-color: #f8efe6;
        }

        ::-webkit-scrollbar-thumb {
            background: #2c1810;
            border-radius: 10px;
            border: 2px solid #f8efe6;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #4a2c23;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="items-grid">
            <!-- Item 1: Monica's Jam -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="https://tse4.mm.bing.net/th?id=OIP.3EzEAr8H4ayzPQzONMwplgHaE8&pid=Api&P=0&h=180"
                        alt="Monica's Jam" class="item-image">
                </div>
                <div class="heart-icon" data-id="item1" data-name="Strawberry Pastry" data-price="3.99">&#x2665;</div>
                <div class="item-label">Strawberry pastry</div>
                <div class="item-price">$3.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 2: Joey’s Meatball Sub -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="https://hips.hearstapps.com/hmg-prod/images/types-of-cake-1644878278.jpeg?crop=0.984xw:1.00xh;0.00962xw,0&resize=640:*"
                        alt="Joey’s Meatball Sub" class="item-image">
                </div>
                <div class="heart-icon" data-id="item2" data-name="Beer Cake" data-price="5.99">&#x2665;</div>
                <div class="item-label">Beer Cake</div>
                <div class="item-price">$5.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 3: A Dozen Lasagnas -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="https://www.tastingtable.com/img/gallery/30-types-of-cake-explained/red-velvet-cake-1658850950.jpg"
                        alt="A Dozen Lasagnas" class="item-image">
                </div>
                <div class="heart-icon" data-id="item3" data-name="Red Velvet" data-price="5.99">&#x2665;</div>
                <div class="item-label">Red Velvet</div>
                <div class="item-price">$5.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 4: Ross’s Sandwich -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="https://assets.epicurious.com/photos/5b884f70daab96526499ca57/1:1/w_775%2Cc_limit/Orange-Chiffon-Cake-30082018.jpg"
                        alt="Ross’s Sandwich" class="item-image">
                </div>
                <div class="heart-icon" data-id="item4" data-name="Orange Cake" data-price="6.99">&#x2665;</div>
                <div class="item-label">Orange Cake</div>
                <div class="item-price">$6.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 5: Mockolate -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="friends/Mockolate.jpg" alt="Mockolate" class="item-image">
                </div>
                <div class="heart-icon" data-id="item5" data-name="Mockolate" data-price="4.99">&#x2665;</div>
                <div class="item-label">Mockolate</div>
                <div class="item-price">$4.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 6: Chesscake -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="friends/chesscake.jpg" alt="Chesscake" class="item-image">
                </div>
                <div class="heart-icon" data-id="item6" data-name="Chesscake" data-price="7.99">&#x2665;</div>
                <div class="item-label">Chesscake</div>
                <div class="item-price">$7.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
            <!-- Item 7: Monica’s Fingernail -->
            <div class="item-wrapper">
                <div class="item-circle">
                    <img src="https://d3cif2hu95s88v.cloudfront.net/blog/wp-content/uploads/2020/08/25122711/Fruit-cake.jpg"
                        alt="Monica’s Fingernail" class="item-image">
                </div>
                <div class="heart-icon" data-id="item7" data-name="Fruit cake" data-price="8.99">&#x2665;</div>
                <div class="item-label">Fruit cake</div>
                <div class="item-price">$8.99</div>
                <div class="item-cart-container">
                    <input type="number" class="item-quantity" value="0" min="0">
                    <button class="add-to-cart-btn">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ensure cartCount is initialized
        if (localStorage.getItem('cartCount') === null) {
            localStorage.setItem('cartCount', '0');
        }

        // Function to update heart icons based on favorites in localStorage
        function updateFavoriteHearts() {
            const favourites = JSON.parse(localStorage.getItem('centralPerkFavorites')) || [];
            document.querySelectorAll('.heart-icon').forEach(icon => {
                const id = icon.getAttribute('data-id');
                if (favourites.some(fav => fav.id === id)) {
                    icon.classList.add('favorited');
                } else {
                    icon.classList.remove('favorited');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Update favorite icons on page load.
            updateFavoriteHearts();

            // Listen for changes in localStorage to update icons.
            window.addEventListener('storage', updateFavoriteHearts);

            // Handle heart icon clicks for favorites.
            document.querySelectorAll('.heart-icon').forEach(function (icon) {
                icon.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const id = this.getAttribute('data-id');
                    const name = this.getAttribute('data-name');
                    const price = parseFloat(this.getAttribute('data-price'));
                    toggleFavourite(this, { id, name, price });
                });
            });

            // Handle Add to Cart button clicks.
            document.querySelectorAll('.add-to-cart-btn').forEach(function (button) {
                button.addEventListener('click', function () {
                    const wrapper = button.closest('.item-wrapper');
                    const itemName = wrapper.querySelector('.item-label').textContent;
                    const quantity = parseInt(wrapper.querySelector('.item-quantity').value);
                    if (quantity > 0) {
                        const heartIcon = wrapper.querySelector('.heart-icon');
                        const id = heartIcon.getAttribute('data-id');
                        const price = parseFloat(heartIcon.getAttribute('data-price'));
                        const item = { id, name: itemName, price, quantity };
                        addToCart(item);
                        // Provide visual feedback
                        const originalText = button.textContent;
                        button.textContent = 'Added!';
                        button.style.backgroundColor = '#4a2c23';
                        setTimeout(() => {
                            button.textContent = originalText;
                            button.style.backgroundColor = '#2c1810';
                        }, 1000);
                        // Reset the quantity input
                        wrapper.querySelector('.item-quantity').value = 0;
                    }
                });
            });
        });

        // Function to add an item to the cart and update cart count.
        function addToCart(item) {
            let cart = JSON.parse(localStorage.getItem('centralPerkCart')) || [];
            const existingItem = cart.find(i => i.id === item.id);
            if (existingItem) {
                existingItem.quantity += item.quantity;
            } else {
                cart.push(item);
            }
            localStorage.setItem('centralPerkCart', JSON.stringify(cart));
            let currentCount = parseInt(localStorage.getItem('cartCount') || '0');
            currentCount += item.quantity;
            localStorage.setItem('cartCount', currentCount);
        }

        // Function to toggle favorite status for an item.
        function toggleFavourite(icon, item) {
            let favourites = JSON.parse(localStorage.getItem('centralPerkFavorites')) || [];
            const existingIndex = favourites.findIndex(fav => fav.id === item.id);
            if (existingIndex === -1) {
                favourites.push(item);
                localStorage.setItem('centralPerkFavorites', JSON.stringify(favourites));
                icon.classList.add('favorited');
                console.log(item.name + " added to favorites.");
            } else {
                favourites.splice(existingIndex, 1);
                localStorage.setItem('centralPerkFavorites', JSON.stringify(favourites));
                icon.classList.remove('favorited');
                console.log(item.name + " removed from favorites.");
            }
        }
    </script>
</body>

</html>
